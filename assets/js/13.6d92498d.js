(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{417:function(s,t,e){"use strict";e.r(t);var a=e(56),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"vuepress文档博客"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuepress文档博客"}},[s._v("#")]),s._v(" VuePress文档博客")]),s._v(" "),e("h2",{attrs:{id:"为什么使用vuepress构建文档博客"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用vuepress构建文档博客"}},[s._v("#")]),s._v(" 为什么使用VuePress构建文档博客")]),s._v(" "),e("ul",[e("li",[s._v("之前使用hexo构建博客，操作太繁琐了，不喜欢。")]),s._v(" "),e("li",[s._v("VuePress 由vue驱动的极简静态网站生成器，熟悉vue所以用了。")]),s._v(" "),e("li",[s._v("喜欢把学习的内容记录成静态文章，不需要花里胡哨的样式内容。")]),s._v(" "),e("li",[s._v("主题内容适配手机。")]),s._v(" "),e("li",[s._v("博客源文件内容参考 "),e("a",{attrs:{href:"https://github.com/hll001/vuepress",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub"),e("OutboundLink")],1),s._v("，实际效果访问 "),e("a",{attrs:{href:"https://hll001.github.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("笔记"),e("OutboundLink")],1)])]),s._v(" "),e("h2",{attrs:{id:"构建本地博客"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建本地博客"}},[s._v("#")]),s._v(" 构建本地博客")]),s._v(" "),e("ol",[e("li",[s._v("新建名为"),e("code",[s._v("blog目录")]),s._v("中"),e("code",[s._v("初始化项目")]),s._v("(该项目命名为"),e("code",[s._v("blog_src")]),s._v("，"),e("strong",[s._v("初始化后上传到GitHub中方便后面跨平台记录")]),s._v(")参考vuepress官网指南中的"),e("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("快速上手"),e("OutboundLink")],1),s._v("。为修改自己熟悉的项目启动命令，我修改的如下：")])]),s._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"blog"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build docs"')]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"vuepress"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.9.7"')]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("ol",[e("li",[e("p",[s._v("初始化好项目之后一定要好好看下官网中介绍的VuePress项目的"),e("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/directory-structure.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("目录结构"),e("OutboundLink")],1),s._v("。")])]),s._v(" "),e("li",[e("p",[s._v("添加"),e("code",[s._v("首页")]),s._v("，"),e("code",[s._v("导航栏")]),s._v("，"),e("code",[s._v("侧边栏")]),s._v("等主题配置，参考官网主题中"),e("a",{attrs:{href:"https://vuepress.vuejs.org/zh/theme/default-theme-config.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("默认主题配置"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[s._v("添加"),e("code",[s._v("图标")]),s._v("等好的配置作品参考——"),e("a",{attrs:{href:"https://github.com/vuepress-reco/vuepress-reco.github.io/blob/gh-pages-source/.vuepress/config.js",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepress-reco"),e("OutboundLink")],1),s._v("。具体项目线上效果——"),e("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepress-theme-reco"),e("OutboundLink")],1)])])]),s._v(" "),e("h2",{attrs:{id:"手动上线部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手动上线部署"}},[s._v("#")]),s._v(" 手动上线部署")]),s._v(" "),e("p",[s._v("为了方便我博客的管理，blog文件夹下有 "),e("code",[s._v("blog_src")]),s._v(" (项目源文件)和 "),e("code",[s._v("dist")]),s._v(" (项目打包后需要部署的文件)两个文件夹。")]),s._v(" "),e("ul",[e("li",[s._v("使用gitPage部署。")])]),s._v(" "),e("ol",[e("li",[e("p",[e("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),e("OutboundLink")],1),s._v("中新建一个仓库，名为 "),e("code",[s._v("xxx.github.io")]),s._v(" (xxx为你GitHub的用户名)。")])]),s._v(" "),e("li",[e("p",[s._v("在"),e("code",[s._v("blog目录")]),s._v("下，拉去新建仓库内容，并将项目名称改为"),e("code",[s._v("dist")]),s._v("。")])]),s._v(" "),e("li",[e("p",[s._v("正常在 "),e("code",[s._v("blog_src")]),s._v(" 中将文章写好后，确定本地访问正常。将 "),e("code",[s._v("blog_src")]),s._v(" 中内容提交到GitHub中，保留源文件。")])]),s._v(" "),e("li",[e("p",[s._v("对本地项目进行打包处理，将 "),e("code",[s._v("blog/docs/.vuepress/dist")]),s._v(" 中内容复制进入到 "),e("code",[s._v("blog/dist")]),s._v(" 中（删除 "),e("code",[s._v("blog/docs/.vuepress/dist")]),s._v(" ，保证 blog/dist 中 "),e("code",[s._v(".git")]),s._v(" 文件不被删除）。")])]),s._v(" "),e("li",[e("p",[s._v("进入 "),e("code",[s._v("blog/dist")]),s._v(" 执行一下命令将代码提交：")])])]),s._v(" "),e("div",{staticClass:"language-git extra-class"},[e("pre",{pre:!0,attrs:{class:"language-git"}},[e("code",[s._v(" git add .\n\n git commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),s._v("   //本地提交的说明\n\n git push -u origin master // 提交至master分支\n")])])]),e("p",[s._v("代码提交后，等待gitPage自动部署。几分钟后在访问"),e("code",[s._v("https://xxx.github.io")]),s._v("即可看到内容。")]),s._v(" "),e("h2",{attrs:{id:"自动化部署方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自动化部署方案"}},[s._v("#")]),s._v(" 自动化部署方案")]),s._v(" "),e("ol",[e("li",[e("code",[s._v("blog_src")]),s._v(" 项目根目录下创建deploy.sh，进行自动化部署(不用我去手动部署了)。")]),s._v(" "),e("li",[e("code",[s._v("blog_src")]),s._v(" 项目根目录下终端运行 "),e("code",[s._v("sh deploy.sh xxx部署描述")]),s._v("完成自动部署。")])]),s._v(" "),e("p",[s._v("自动部署脚本内容如下")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# blog_src项目打包")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入到dist中删除旧内容")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/dist\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除除了.git 以外的所有文件，不直接复制覆盖是为了避免文件名修改出错。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v .git "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 blog_src 将打包内容复制到 dist 中,删除打包文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/blog_src\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将打包内容复制到 dist 中")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" docs/.vuepress/dist/* "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/dist\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除打包文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf docs/.vuepress/dist\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交 blog_src 中修改到GitHub中")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入到dist中提交打包内容")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/dist\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交打包内容到GitHub中")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);